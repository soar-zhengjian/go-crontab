## 9-1 job-log接口开发之master支持mongodb日志查询

## 9-2 web界面开发: 查看任务执行日志

## 9-3 worker服务注册到etcd

### worker服务注册
- 启动后获取本机网卡IP,作为节点唯一标识
- 启动服务注册协程，首先创建lease并自动续租
- 带着lease注册到/cron/workers/{IP}下，供服务发现

### master服务发现
- 在master实现/worker/list接口，从etcd获取在线worker
- 在web界面实现"健康节点"按钮，查看集群状态


```
```

## 9-4 worker-list接口开发之master从etcd查询worker列表

## 9-5 web界面开发: 查看健康worker列表

## 9-6 分布式部署到linux服务器(上)

### 搭建worker
- 配置worker.json中的etcd与mongodb地址
- 配置systemctl启停worker,监督worker进程存活

### systemd与systemctl
- systemd是系统启动的第一个进程
- systemctl是管理systemd的工具
- systemctl常用来管理与监督常驻服务，确保其运行

### 搭建master
- 配置master.json中的etcd与mongodb地址
- 配置nginx作为反向代理，实现高可用master
- 配置systemctl启停master,监督master进程存活
- DNS -> 主备LVS + keepalive->4层转发->nginx->http反向代理->master
## 9-7 分布式部署到linux服务器(下)


## 9-8 常用命令总结
```
# 装载
systemctl enable cron-worker.service
systemctl enable cron-master.service

# 启动
systemctl start cron-worker.service
systemctl start cron-master.service
```